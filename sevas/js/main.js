"use strict";document.addEventListener("DOMContentLoaded",function(){function e(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}var t;if("IntersectionObserver"in window){t=document.querySelectorAll(".lazy");var n=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.classList.remove("lazy"),n.unobserve(t)}})});t.forEach(function(e){n.observe(e)})}else{var s,i=function L(){s&&clearTimeout(s),s=setTimeout(function(){var e=window.pageYOffset;t.forEach(function(t){t.offsetTop<window.innerHeight+e&&(t.src=t.dataset.src,t.classList.remove("lazy"))}),0==t.length&&(document.removeEventListener("scroll",L),window.removeEventListener("resize",L),window.removeEventListener("orientationChange",L))},20)};t=document.querySelectorAll(".lazy"),document.addEventListener("scroll",i),window.addEventListener("resize",i),window.addEventListener("orientationChange",i)}e(function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")});var o=document.querySelectorAll(".nav__item > a");o.forEach(function(e){e.setAttribute("data-title",e.textContent)});var o=document.querySelectorAll(".categories-item__link > span");o.forEach(function(e){e.setAttribute("data-title",e.textContent)}),window.addEventListener("scroll",function(){var e=document.querySelector("#head");null!=e&&(this.pageYOffset>1?e.classList.add("js-sticky"):e.classList.remove("js-sticky"))});var l=document.querySelector("#js-showHideFilter"),r=document.querySelector("#filter"),c=document.querySelector("#js-hideFilter");null!=l&&l.addEventListener("click",function(){r.classList.toggle("js-filterShow")}),null!=c&&c.addEventListener("click",function(){r.classList.remove("js-filterShow")});var a=document.querySelectorAll(".filter-subMenu__input");null!=a&&a.forEach(function(e){e.addEventListener("click",function(){var e=this.closest(".filter-menu__item"),t=e.querySelector(".fiter-menu__input"),n=e.querySelectorAll(".filter-subMenu__input"),s=0;n.forEach(function(e){e.checked&&s++}),s>0?t.checked=!0:t.checked=!1})});var u=document.querySelector("#js-showTooltip"),d=document.querySelector("#js-tooltip"),v=document.querySelector("#js-hideTooltip");null!=u&&u.addEventListener("click",function(){d.style.display="block"}),null!=v&&v.addEventListener("click",function(){d.style.display="none"});var f=document.querySelectorAll(".delivery-form__input");if(null!=f&&f.forEach(function(e){e.addEventListener("keyup",function(e){e.preventDefault(),""!=this.value?this.classList.add("js-notEmptyInput"):this.classList.remove("js-notEmptyInput")})}),document.body.clientWidth<992){var m=function(e){e.forEach(function(e){for(var t=e.selector,n=0;n<t.length;n++)t[n].insertAdjacentHTML("afterbegin","<span></span>")})},b=document.querySelectorAll(".nav__list > li"),h=document.querySelectorAll(".nav__list > li > .sub-menu > li"),y=[{selector:b},{selector:h}];m(y);var _=document.querySelector(".nav__list > li > .sub-menu"),g=document.querySelectorAll(".sub-menu span"),p=_.closest(".nav__list > li").querySelector("span");p.addEventListener("click",function(){_.classList.add("js-subMenu")}),g.forEach(function(e){e.addEventListener("click",function(){this.classList.toggle("js-span-active");var e=this.closest(".sub-menu > li"),t=e.querySelector("a"),n=e.querySelector(".sub-menu");n.classList.contains("js-innerSubMenu")?(n.classList.remove("js-innerSubMenu"),n.style.maxHeight=0,t.style.color="#262626"):(n.classList.add("js-innerSubMenu"),n.style.maxHeight=n.scrollHeight+"px",t.style.color="#FFB32A")})});_.insertAdjacentHTML("beforeend",'<button class="sub-menu__btn btn">Назад</button>');document.body.addEventListener("click",function(e){e.target.classList.contains("sub-menu__btn")&&(_.classList.remove("js-subMenu"),g.forEach(function(e){var t=e.closest(".sub-menu > li"),n=t.querySelector("a"),s=t.querySelector(".sub-menu");e.classList.remove("js-span-active"),s.classList.remove("js-innerSubMenu"),s.style.maxHeight=0,n.style.color="#262626"}))})}var S=document.querySelectorAll(".allbrands-list__link");null!=S&&S.forEach(function(e){var t=e.textContent;"Новинки"!=t&&"Популярные"!=t&&"Для дома"!=t&&"На природу"!=t||(console.log(e.closest(".allbrands-list__item")),e.closest(".allbrands-list__item").remove())})}),$(document).ready(function(){if($(window).width()<992){var e=function(e){function t(){n.toggleClass("burger-menu_active"),s.toggleClass("burger-menu__button_active"),n.hasClass("burger-menu_active")?$("body").css({overflow:"hidden",position:"fixed",width:"100%"}):$("body").css({overflow:"visible",position:"static",width:"unset"})}var n=$(e),s=n.find(".burger-menu__button"),i=n.find(".nav__link"),o=n.find(".burger-menu__overlay");s.click(function(e){e.preventDefault(),t()}),i.click(function(){t()}),o.click(function(){t()})};e(".burger-menu")}var t=$(".js-offerSlider");null!=t&&$(".js-offerSlider").slick({infinite:!0,dots:!0,arrows:!1,speed:400,responsive:[{breakpoint:576,settings:{dots:!1}}]}),$(".commodity-sliderbig").slick({slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!1,arrows:!1,speed:400,fade:!0,asNavFor:".commodity-slidermin",responsive:[{breakpoint:992,settings:{fade:!1,speed:600,dots:!0}}]}),$(".commodity-slidermin").slick({slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!1,arrows:!1,focusOnSelect:!0,speed:400,asNavFor:".commodity-sliderbig",responsive:[{breakpoint:992,settings:"unslick"}]}),$(function(){var e=document.location.href;$.each($(".nav__list > li > a"),function(){this.href==e&&($(this).toggleClass("js-NavLink_active"),$(this).closest(".nav__list > li").find(".sub-menu").toggleClass("js-SubMenu_active"))}),$.each($(".sub-menu a"),function(){this.href==e&&($(this).toggleClass("js-SubMenuLink_active"),$(this).hasClass("js-SubMenuLink_active")&&($(this).closest(".nav__list > li").find(">a").toggleClass("js-NavLink_active"),$(".sub-menu").toggleClass("js-SubMenu_active")))}),$(".js-NavLink_active, .js-SubMenuLink_active").closest(".nav__item").css("height","unset")}),$(".js-minus").click(function(){var e=$(this).parent().find("input"),t=parseInt(e.val())-1;return t=t<1?1:t,e.val(t),e.change(),!1}),$(".js-plus").click(function(){var e=$(this).parent().find("input");return e.val(parseInt(e.val())+1),e.change(),!1}),null!=document.querySelector("#tel")&&$("#tel").mask("+7(999) 999 99 99")});